# This file is auto-generated by the CDP protocol generator.
# Do not edit this file manually as your changes will be overwritten.
# Generated from Chrome DevTools Protocol specifications.

"""CDP LayerTree Domain Types"""

from pydantic import BaseModel
from typing import List, Optional

from typing import TYPE_CHECKING

if TYPE_CHECKING:
    from ..dom.types import BackendNodeId
    from ..dom.types import Rect

"""Unique Layer identifier."""
LayerId = str



"""Unique snapshot identifier."""
SnapshotId = str



class ScrollRect(BaseModel):
    """Rectangle where scrolling happens on the main thread."""
    rect: "Rect"
    type: "str"



class StickyPositionConstraint(BaseModel):
    """Sticky position constraints."""
    stickyBoxRect: "Rect"
    containingBlockRect: "Rect"
    nearestLayerShiftingStickyBox: "Optional[LayerId]" = None
    nearestLayerShiftingContainingBlock: "Optional[LayerId]" = None



class PictureTile(BaseModel):
    """Serialized fragment of layer picture along with its offset within the layer."""
    x: "float"
    y: "float"
    picture: "str"



class Layer(BaseModel):
    """Information about a compositing layer."""
    layerId: "LayerId"
    offsetX: "float"
    offsetY: "float"
    width: "float"
    height: "float"
    paintCount: "int"
    drawsContent: "bool"
    parentLayerId: "Optional[LayerId]" = None
    backendNodeId: "Optional[BackendNodeId]" = None
    transform: "Optional[List[float]]" = None
    anchorX: "Optional[float]" = None
    anchorY: "Optional[float]" = None
    anchorZ: "Optional[float]" = None
    invisible: "Optional[bool]" = None
    scrollRects: "Optional[List[ScrollRect]]" = None
    stickyPositionConstraint: "Optional[StickyPositionConstraint]" = None



"""Array of timings, one per paint step."""
PaintProfile = List[float]


# Rebuild Pydantic models to resolve forward references
# Import dependencies for model rebuilding
def _rebuild_models_when_ready():
    try:
        from ..dom.types import BackendNodeId
        from ..dom.types import Rect
        # Rebuild models now that imports are available
        ScrollRect.model_rebuild()
        StickyPositionConstraint.model_rebuild()
        PictureTile.model_rebuild()
        Layer.model_rebuild()
    except ImportError:
        pass  # Will be rebuilt later

_rebuild_models_when_ready()
